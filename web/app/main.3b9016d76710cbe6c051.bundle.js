webpackJsonp([1],{0:function(t,e,n){t.exports=n("cDNt")},"6L4I":function(t,e){t.exports='<mat-card class="card">\n  <mat-card-header>\n    <mat-card-title>{{ esac.name }}</mat-card-title>\n    <mat-card-subtitle>{{ esac.title }}</mat-card-subtitle>\n  </mat-card-header>\n  <mat-card-actions class="card-actions">\n    <button mat-raised-button color="accent" *ngIf="!isMidiPlaying()" (click)="playMidi(esac)">\n      <span>Play</span>\n      <mat-icon>play_arrow</mat-icon>\n    </button>\n    <button mat-raised-button color="accent" *ngIf="isMidiPlaying()" (click)="stopMidi()">\n      <span>Pause</span>\n      <mat-icon>pause</mat-icon>\n    </button>\n    <button mat-raised-button color="accent" (click)="downloadMidi(esac)">\n      <span>Download</span>\n      <mat-icon>file_download</mat-icon>\n    </button>\n  </mat-card-actions>\n</mat-card>'},"7/c2":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".file-container{padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.file-container>*{margin:10px}.file-container .file-button{position:relative}.file-container .file-input{cursor:pointer;height:100%;position:absolute;opacity:0;right:0;top:0;width:56px}.file-container .file-list .mat-chip{margin:5px}.file-container .file-subcontainer>*{margin:0 10px}.new-spinner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},"86XM":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".file-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.file-container>*{margin:10px}.file-container .file-button{position:relative}.file-container .file-input{cursor:pointer;height:100%;position:absolute;opacity:0;right:0;top:0;width:56px}.file-container .file-list .mat-chip{margin:5px}.file-container .file-subcontainer>*{margin:0 10px}",""]),t.exports=t.exports.toString()},"9stj":function(t,e){t.exports='<div class="card-container">\n    <mat-card class="card">\n        <mat-card-content>\n            <p *ngIf="esac.key">\n                <span class="card-content--bold">KEY:</span>\n                <span>{{ esac.key }}</span>\n            </p>\n            <p *ngIf="esac.melody">\n                <span class="card-content--bold">MEL:</span>\n                <span class="whitespace">{{ esac.melody }}</span>\n            </p>\n        </mat-card-content>\n    </mat-card>\n</div>'},MKdi:function(t,e){t.exports='<div class="dialog-close">\n  <button mat-icon-button matDialogClose>\n    <mat-icon>close</mat-icon>\n  </button>\n</div>\n<mat-dialog-content>\n  <div class="wizard">\n    <mat-progress-bar mode="determinate" [value]="progress" class="wizard-progress"></mat-progress-bar>\n    <div *ngIf="step === 0" class="wizard-step">\n      <button mat-raised-button (click)="chooseSource(0)" color="primary">From file</button>\n      <button mat-raised-button (click)="chooseSource(1)" color="primary">Create new</button>\n    </div>\n    <div *ngIf="step === 1" class="wizard-step">\n      <esac-add-file *ngIf="sourceType === 0" (isSubmited)="receiveMessage($event)"></esac-add-file>\n      <esac-add-new *ngIf="sourceType === 1" (isSubmited)="receiveMessage($event)"></esac-add-new>\n    </div>\n    <div *ngIf="step === 2" class="wizard-step">\n      <p class="message">{{text}}</p>\n      <button mat-raised-button color="accent" (click)="onNoClick()">Close</button>\n    </div>\n  </div>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf="step === 1">\n  <button mat-button (click)="prevStep()">\n    <mat-icon>chevron_left</mat-icon>\n    <span>Previous</span>\n  </button>\n</mat-dialog-actions>'},PtB0:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".new-container{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0}.new-container,.new-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.new-form{width:80%;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:distribute;justify-content:space-around}.new-form *{padding:0 2px}.dialog-close{text-align:right}",""]),t.exports=t.exports.toString()},SBSB:function(t,e){t.exports='<mat-dialog-content>\n  <p>Are you sure you want to delete this ESAC?</p>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <button mat-raised-button color="primary" (click)="confirm(true)">Yes</button>\n  <button mat-raised-button color="accent" (click)="confirm(false)">No</button>\n</mat-dialog-actions>\n'},T5dd:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".dialog-close{text-align:right}.card-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=t.exports.toString()},TGOV:function(t,e){t.exports='<div class="top-container" *ngIf="isAnyEsac()">\n  <div class="top-container--left">\n    <div>\n      <mat-form-field class="search-type">\n        <mat-select placeholder="Type" [(value)]="searchType">\n          <mat-option *ngFor="let searchType of searchTypes" [value]="searchType">\n            {{ searchType }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <mat-form-field class="search-term">\n        <input matInput placeholder="Search term" [(ngModel)]="searchTerm">\n      </mat-form-field>\n      <button mat-mini-fab (click)="search()" [disabled]="isSearchIncomplete()" color="accent" class="search-button">\n        <mat-icon>search</mat-icon>\n      </button>\n    </div>\n    <mat-chip-list *ngIf="searchTerms" class="search-list">\n      <mat-chip *ngFor="let searchTerm of searchTerms; index as idx;">\n        <span>{{ searchTerm.term }}</span>\n        <mat-icon matChipRemove (click)="removeSearch(idx)">cancel</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </div>\n  <div class="top-container--right">\n    <button mat-icon-button (click)="downloadEsac()" class="top-item">\n      <mat-icon>file_download</mat-icon>\n    </button>\n    <button mat-icon-button (click)="convertEsac(-1)" class="top-item">\n      <mat-icon>swap_horiz</mat-icon>\n    </button>\n    <div class="top-menu--large top-item">\n      <button mat-button (click)="expandAll()">Expand all</button>\n      <button mat-button (click)="closeAll()">Close all</button>\n    </div>\n    <div class="top-menu--small top-item">\n      <button mat-icon-button [matMenuTriggerFor]="menu">\n        <mat-icon>more_vert</mat-icon>\n      </button>\n      <mat-menu #menu [overlapTrigger]="false">\n        <button mat-menu-item (click)="expandAll()">Expand all</button>\n        <button mat-menu-item (click)="closeAll()">Close all</button>\n      </mat-menu>\n    </div>\n  </div>\n</div>\n<div class="card-container">\n  <div *ngFor="let esac of esacs; index as idx;">\n    <main-card [esac]="esac" [isExpanded]=esacsExpanded[idx]></main-card>\n  </div>\n</div>\n\n<button mat-fab color="accent" class="button-add" (click)="addEsac()">\n  <mat-icon>add</mat-icon>\n</button>'},V6tw:function(t,e){t.exports='<div class="dialog-close">\n  <button (click)="closeDialog()" mat-icon-button matDialogClose>\n    <mat-icon>close</mat-icon>\n  </button>\n</div>\n<mat-dialog-content>\n  <div class="card-container">\n      <esac-card [esac]="esac"></esac-card>\n  </div>\n</mat-dialog-content>'},V72S:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".top-container{margin:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}@media screen and (min-width:721px){.top-container .top-item{margin-left:5px}}.top-container .top-container--left{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.top-container .top-container--left .search-list .mat-chip{margin:2px}.top-container .top-container--right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media screen and (max-width:720px){.top-menu--large{display:none}}@media screen and (min-width:721px){.top-menu--small{display:none}}.search-type{width:90px}.search-term{width:150px}.search-button,.search-term{margin-left:2px}.card-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.button-add{position:fixed;right:20px;bottom:20px}",""]),t.exports=t.exports.toString()},VCy7:function(t,e){t.exports='<div class="file-container" *ngIf="!converting">\n  <span class="file-button">\n    <button mat-fab color="accent">\n      <mat-icon>attach_file</mat-icon>\n      <input #file multiple type="file" class="file-input" (change)="onChooseFiles()">\n    </button>\n  </span>\n  <mat-chip-list *ngIf="isFilesChosen()" class="file-list">\n    <mat-chip *ngFor="let file of files; index as idx;" (removed)="onDeleteFiles(idx)">\n      <span>{{ file.name }}</span>\n      <mat-icon matChipRemove>cancel</mat-icon>\n    </mat-chip>\n  </mat-chip-list>\n  <div class="file-subcontainer">\n    <button mat-fab color="primary" (click)="onDeleteFiles()" [disabled]="!isFilesChosen()">\n      <mat-icon>delete</mat-icon>\n    </button>\n    <button mat-raised-button color="accent" (click)="submit()" [disabled]="!isFilesChosen()">\n      <span>Convert</span>\n      <mat-icon>swap_horiz</mat-icon>\n    </button>\n  </div>\n</div>\n<div *ngIf="converting" class="new-spinner">\n  <mat-spinner mode="indeterminate" color="accent"></mat-spinner>\n</div>\n'},"Vh/s":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".wizard{margin:10px;padding:10px;background-color:hsla(0,0%,100%,.8);text-align:center}.wizard-progress{margin-bottom:10px}.wizard-step{padding:10px 0 20px 0}.wizard-navigation{padding:20px 0 10px 0}",""]),t.exports=t.exports.toString()},W675:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".nav-link{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}",""]),t.exports=t.exports.toString()},WFSm:function(t,e){t.exports='<div class="file-container">\n  <span class="file-button">\n    <button mat-fab color="accent">\n      <mat-icon>attach_file</mat-icon>\n      <input #file multiple type="file" class="file-input" (change)="onChooseFiles()">\n    </button>\n  </span>\n  <mat-chip-list *ngIf="isFilesChosen()" class="file-list">\n    <mat-chip *ngFor="let file of files; index as idx;" (removed)="onDeleteFiles(idx)">\n      <span>{{ file.name }}</span>\n      <mat-icon matChipRemove>cancel</mat-icon>\n    </mat-chip>\n  </mat-chip-list>\n  <div class="file-subcontainer">\n    <button mat-fab color="primary" (click)="onDeleteFiles()" [disabled]="!isFilesChosen()">\n      <mat-icon>delete</mat-icon>\n    </button>\n    <button mat-raised-button color="accent" (click)="addEsacFile()" [disabled]="!isFilesChosen()">\n      <span>Convert</span>\n      <mat-icon>swap_horiz</mat-icon>\n    </button>\n  </div>\n</div>\n'},YiPl:function(t,e){t.exports='<div class="new-container">\n  <form [formGroup]="form" novalidate class="new-form">\n    <mat-form-field>\n      <input matInput formControlName="name" placeholder="Catalog">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="title" placeholder="CUT">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="region" placeholder="REG">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="source" placeholder="TRD">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="signature" placeholder="SIG">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="key" placeholder="KEY*">\n    </mat-form-field>\n    <mat-form-field>\n      <textarea matInput matTextareaAutosize formControlName="melody" placeholder="MEL*"></textarea>\n    </mat-form-field>\n    <mat-form-field>\n      <textarea matInput matTextareaAutosize formControlName="remarks" placeholder="BEM"></textarea>\n    </mat-form-field>\n  </form>\n\n  <button mat-raised-button color="accent" (click)="addEsac()" [disabled]="form.invalid">\n    <span>Add</span>\n    <mat-icon>add</mat-icon>\n  </button>\n</div>'},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},aEtr:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".wizard{text-align:center}.wizard-progress{margin-bottom:10px}.wizard-step{padding:10px 0 10px 0}.dialog-close{text-align:right}.message{font-family:Roboto}",""]),t.exports=t.exports.toString()},aZl2:function(t,e){t.exports='<div class="file-container" *ngIf="!converting">\n  <span class="file-button">\n    <button mat-fab color="accent" [disabled]="isFilesChosen()">\n      <mat-icon>attach_file</mat-icon>\n      <input #file type="file" class="file-input" (change)="onChooseFiles()">\n    </button>\n  </span>\n  <mat-chip-list *ngIf="isFilesChosen()" class="file-list">\n    <mat-chip *ngFor="let file of files; index as idx;" (removed)="onDeleteFiles(idx)">\n      <span>{{ file.name }}</span>\n      <mat-icon matChipRemove>cancel</mat-icon>\n    </mat-chip>\n  </mat-chip-list>\n  <mat-form-field *ngIf="isFilesChosen()">\n    <input matInput placeholder="KEY" [(ngModel)]="key">\n  </mat-form-field>\n  <div class="file-subcontainer">\n    <button mat-raised-button color="accent" (click)="submit()" [disabled]="!isSubmittable()">\n      <span>Convert</span>\n      <mat-icon>swap_horiz</mat-icon>\n    </button>\n  </div>\n</div>\n<div *ngIf="converting" class="new-spinner">\n  <mat-spinner mode="indeterminate" color="accent"></mat-spinner>\n</div>'},b474:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".card-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.card{min-width:220px;margin:10px 10px;text-align:initial}.card-actions{text-align:center}.card-actions *{margin-bottom:5px}.card-buttons{text-align:right}.card-speed{text-align:center}.new-spinner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.card-content--bold{font-weight:700}.whitespace{white-space:pre-wrap}",""]),t.exports=t.exports.toString()},bi87:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".card-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.card{min-width:220px;margin:10px 10px;text-align:initial}.card-content--bold{font-weight:700}.whitespace{white-space:pre-wrap}",""]),t.exports=t.exports.toString()},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("LMZF"),o=n("x8Hs"),a=n("RyBE"),r=n("UHIZ"),c=n("MCDL"),s=n("6lRS"),l=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},p=function(){function t(){}return t=l([Object(i.n)({selector:"root",template:n("efyd"),styles:[n("W675")]})],t)}(),d=n("Un6q"),f=n("9iV4"),m=n("0nO6"),u=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t){this.http=t,this.urlGetEsacs="/api/esac/list",this.urlEsac2Midi="/api/esac2midi",this.urlSearchEsacs="/api/esacs",this.urlEsac2MidiFile="/api/esac2midi?format=file",this.esacEndpoint="/api/esac"}return t.prototype.getEsacs=function(){return this.http.get(this.urlGetEsacs)},t.prototype.esacToMidi=function(t){return this.http.post(this.urlEsac2Midi,t)},t.prototype.esacToMidiFile=function(t){return this.http.post(this.urlEsac2MidiFile,t,{responseType:"arraybuffer"})},t.prototype.searchEsacs=function(t){return this.http.post(this.urlSearchEsacs,t)},t.prototype.deleteEsac=function(t){return this.http.delete(this.esacEndpoint+"/"+t)},t.prototype.updateEsac=function(t,e){return this.http.patch(this.esacEndpoint+"/"+t,JSON.stringify(e))},t=u([Object(i.C)(),h("design:paramtypes",[f.a])],t)}(),y=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},x=function(){function t(){var t=this;this.player=MIDI.Player,this.midiSong={},this.isPlaying=!1,this.midiSpeedValue=1,this.midiSpeedMax=.5,this.midiSpeedMin=1.5,this.midiSpeedStep=.1,this.isMidiLoaded=!1,MIDI.loadPlugin({soundfontUrl:"../../../assets/soundfont/",onsuccess:function(){t.isMidiLoaded=!0}})}return t.prototype.setMidiSong=function(t,e){this.midiSong=t,this.currentEsacId=e},t.prototype.getMidiSong=function(){return this.midiSong},t.prototype.getEsacId=function(){return this.currentEsacId},t.prototype.isMidiPlaying=function(){return this.isPlaying},t.prototype.playMidi=function(){var t=this;if(this.isMidiPlaying&&this.stopMidi(),this.isMidiLoaded){var e=this.getMidiSong();this.player.loadFile(e.midi64,this.player.start),this.isPlaying=!0,this.player.removeListener(),this.player.addListener(function(e){e.now===e.end&&(t.isPlaying=!1)})}},t.prototype.stopMidi=function(){this.player.stop(),this.isPlaying=!1},t.prototype.speedUpMidi=function(){this.midiSpeedValue>this.midiSpeedMax&&(this.stopMidi(),this.player.timeWarp-=.1,this.midiSpeedValue-=.1,this.playMidi())},t.prototype.slowDownMidi=function(){this.midiSpeedValue<this.midiSpeedMin&&(this.stopMidi(),this.player.timeWarp+=.1,this.midiSpeedValue+=.1,this.playMidi())},t.prototype.getSpeedData=function(){return{midiSpeedValue:this.midiSpeedValue,midiSpeedMax:this.midiSpeedMax,midiSpeedMin:this.midiSpeedMin,midiSpeedStep:this.midiSpeedStep}},t=y([Object(i.C)(),g("design:paramtypes",[])],t)}(),v=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},w=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=function(){function t(){}return t.prototype.setEsacs=function(t){this.esacs=t},t.prototype.getEsacs=function(){return this.esacs},t.prototype.deleteEsac=function(t){var e=this.esacs.find(function(e){return e.id===t}),n=this.esacs.indexOf(e);this.esacs.splice(n,1)},t=v([Object(i.C)(),w("design:paramtypes",[])],t)}(),R=n("bbdN"),j=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},S=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},O=function(){function t(t,e){this.dialogRef=t,this.data=e,this.step=0,this.lastStep=2,this.progress=0}return t.prototype.ngOnInit=function(){},t.prototype.onNoClick=function(){this.dialogRef.close(),window.location.reload()},t.prototype.receiveMessage=function(t){this.step++,this.updateProgress(),this.text=t.text},t.prototype.chooseSource=function(t){this.sourceType=t,this.step++,this.updateProgress()},t.prototype.prevStep=function(){this.step>0&&this.step--,this.updateProgress()},t.prototype.updateProgress=function(){this.progress=100*this.step/this.lastStep},t=j([Object(i.n)({selector:"esac-add-dialog",template:n("MKdi"),styles:[n("aEtr")]}),E(1,Object(i.B)(s.a)),S("design:paramtypes",[s.g,Object])],t)}(),_=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},P=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},I=function(){function t(t,e,n,i){this.dialogRef=t,this.data=e,this.mainService=n,this.midiPlayerService=i}return t.prototype.ngOnInit=function(){this.setInfoData()},t.prototype.setInfoData=function(){this.esacs=this.data},t.prototype.closeDialog=function(){this.midiPlayerService.stopMidi()},t=_([Object(i.n)({selector:"esac-convert-dialog",template:n("z3v5"),styles:[n("mgRt")]}),M(1,Object(i.B)(s.a)),P("design:paramtypes",[s.g,Object,b,x])],t)}(),C=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},T=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},D=function(){function t(t,e,n){this.mainService=t,this.dialog=e,this.esacService=n,this.esacs=null,this.esacsExpanded=[],this.searchTerm="",this.searchTerms=[],this.searchTypes=["Name","CUT","REG","TRD","SIG","KEY","MEL","BEM","Melody","Rhythm"]}return t.prototype.ngOnInit=function(){this.getEsacs()},t.prototype.getEsacs=function(){var t=this;this.mainService.getEsacs().subscribe(function(e){t.esacService.setEsacs(e),t.esacs=t.esacService.getEsacs(),t.fillEsacsExpanded(t.esacs.length)},function(t){console.log("GET /esacs error")})},t.prototype.isAnyEsac=function(){return!(!this.esacs||0===this.esacs.length)},t.prototype.search=function(){var t=this;this.searchTerms.push({type:this.searchType,term:this.searchTerm}),this.mainService.searchEsacs(this.searchTerms).subscribe(function(e){t.esacs=e,t.esacService.setEsacs(e)},function(t){console.log("GET /esacs error")}),this.resetSearch()},t.prototype.removeSearch=function(t){var e=this;this.searchTerms.splice(t,1),this.mainService.searchEsacs(this.searchTerms).subscribe(function(t){e.esacs=t,e.esacService.setEsacs(t)},function(t){console.log("GET /esacs error")})},t.prototype.resetSearch=function(){this.searchTerm="",this.searchType=void 0},t.prototype.isSearchIncomplete=function(){return void 0===this.searchType||""===this.searchTerm},t.prototype.fillEsacsExpanded=function(t){for(var e=0;e<t;e++)this.esacsExpanded.push(!1)},t.prototype.toggleCard=function(t){this.esacsExpanded[t]=!this.esacsExpanded[t]},t.prototype.expandAll=function(){this.esacsExpanded.fill(!0)},t.prototype.closeAll=function(){this.esacsExpanded.fill(!1)},t.prototype.addEsac=function(){this.dialog.open(O,{autoFocus:!1,minWidth:300,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){})},t.prototype.convertEsac=function(t){var e=this.esacService.getEsacs();this.dialog.open(I,{autoFocus:!1,minWidth:300,disableClose:!0,data:e})},t.prototype.downloadEsac=function(){var t=this.esacService.getEsacs(),e=this.esacsToString(t),n=new Blob([e],{type:"text/plain"});R.saveAs(n,"esacs.txt")},t.prototype.esacsToString=function(t){for(var e="",n=0,i=t;n<i.length;n++){var o=i[n];e+=o.name+"\n",e+="CUT["+o.title+"]\n",e+="REG["+o.region+"]\n",e+="TRD["+o.source+"]\n",e+="SIG["+o.signature+"]\n",e+="KEY["+o.key+"]\n",e+="MEL["+o.melody+"]\n",e+="BEM["+o.remarks+"]\n",e+="\n"}return e},t=C([Object(i.n)({selector:"main",template:n("TGOV"),styles:[n("V72S")]}),T("design:paramtypes",[b,s.e,k])],t)}(),F=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N=function(){function t(t){this.http=t,this.createNewEsacFromURL="/api/esac",this.isSubmited=new i.x}return t.prototype.ngOnInit=function(){this.form=this.newForm()},t.prototype.addEsac=function(){var t=this;return this.http.put(this.createNewEsacFromURL,this.form.value).subscribe(function(e){t.isSubmited.emit({text:"Success"})},function(e){t.isSubmited.emit({text:"Error downloading file. Please try again."})})},t.prototype.newForm=function(){return new m.c({name:new m.b(""),title:new m.b(""),source:new m.b(""),region:new m.b(""),signature:new m.b(""),key:new m.b("",[m.k.required]),melody:new m.b("",[m.k.required]),remarks:new m.b("")})},F([Object(i.R)(),z("design:type",Object)],t.prototype,"isSubmited",void 0),t=F([Object(i.n)({selector:"esac-add-new",template:n("YiPl"),styles:[n("hU5+")]}),z("design:paramtypes",[f.a])],t)}(),Y=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},A=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(){function t(t){this.http=t,this.files=[],this.createNewEsacFromURL="/api/esac?parse=file",this.isSubmited=new i.x}return t.prototype.ngOnInit=function(){},t.prototype.onChooseFiles=function(){if(this.file)for(var t=0,e=this.file.nativeElement.files;t<e.length;t++){var n=e[t];this.files.push(n)}},t.prototype.onDeleteFiles=function(t){t?this.files.splice(t,1):this.files=[]},t.prototype.isFilesChosen=function(){return!!this.files.length},t.prototype.addEsacFile=function(){var t=this,e=new FormData;return e.append("file",this.files[0]),this.http.put(this.createNewEsacFromURL,e).subscribe(function(e){t.isSubmited.emit({text:"Success"})},function(e){t.isSubmited.emit({text:"Error downloading file. Please try again."})})},Y([Object(i._11)("file"),A("design:type",Object)],t.prototype,"file",void 0),Y([Object(i.R)(),A("design:type",Object)],t.prototype,"isSubmited",void 0),t=Y([Object(i.n)({selector:"esac-add-file",template:n("WFSm"),styles:[n("86XM")]}),A("design:paramtypes",[f.a])],t)}(),K=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},L=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},B=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},U=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){this.form=this.fillForm()},t.prototype.editEsac=function(){this.dialogRef.close(this.form.value)},t.prototype.fillForm=function(){var t=this.data;return new m.c({name:new m.b(t.name),title:new m.b(t.title),source:new m.b(t.source),region:new m.b(t.region),signature:new m.b(t.signature),key:new m.b(t.key,[m.k.required]),melody:new m.b(t.melody,[m.k.required]),remarks:new m.b(t.remarks)})},t=K([Object(i.n)({selector:"esac-edit-dialog",template:n("wZkG"),styles:[n("PtB0")]}),B(1,Object(i.B)(s.a)),L("design:paramtypes",[s.g,Object])],t)}(),V=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},W=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Z=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},q=function(){function t(t,e){this.dialogRef=t,this.data=e,this.confirmation=!1}return t.prototype.ngOnInit=function(){},t.prototype.confirm=function(t){this.dialogRef.close(t)},t=V([Object(i.n)({selector:"esac-delete-dialog",template:n("SBSB"),styles:[n("haRs")]}),Z(1,Object(i.B)(s.a)),W("design:paramtypes",[s.g,Object])],t)}(),$=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},J=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=function(){function t(t,e){this.mainService=t,this.midiPlayerService=e}return t.prototype.ngOnInit=function(){this.esac.isPlaying=!1},t.prototype.playMidi=function(t){var e=this;this.mainService.esacToMidi(t).subscribe(function(t){e.esac.isPlaying=!0,e.midiPlayerService.setMidiSong(t,e.esac.id),e.midiPlayerService.playMidi()},function(t){console.log("Error downloading file: ",t)})},t.prototype.stopMidi=function(){this.esac.isPlaying=!1,this.midiPlayerService.stopMidi()},t.prototype.isMidiPlaying=function(){return this.checkEsacId()&&this.esac.isPlaying&&this.midiPlayerService.isMidiPlaying()},t.prototype.checkEsacId=function(){return this.esac.id===this.midiPlayerService.getEsacId()},t.prototype.downloadMidi=function(t){this.mainService.esacToMidiFile(t).subscribe(function(e){var n=new Blob([e],{type:"audio/midi"});R.saveAs(n,t.name+"_"+t.title+".mid")},function(t){console.log("Error downloading file: ",t)})},$([Object(i.F)(),J("design:type",Object)],t.prototype,"esac",void 0),t=$([Object(i.n)({selector:"esac-card",template:n("6L4I"),styles:[n("pRin")]}),J("design:paramtypes",[b,x])],t)}(),X=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Q=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tt=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},et=function(){function t(t,e,n,i){this.dialogRef=t,this.data=e,this.mainService=n,this.midiPlayerService=i}return t.prototype.ngOnInit=function(){this.esac=this.data},t.prototype.closeDialog=function(){this.midiPlayerService.stopMidi()},t=X([Object(i.n)({selector:"one-esac-convert-dialog",template:n("V6tw"),styles:[n("T5dd")]}),tt(1,Object(i.B)(s.a)),Q("design:paramtypes",[s.g,Object,b,x])],t)}(),nt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},it=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ot=function(){function t(t,e,n,i){this.mainService=t,this.dialog=e,this.esacService=n,this.midiPlayerService=i}return t.prototype.ngOnInit=function(){},t.prototype.convertEsac=function(t){var e=this.esac;this.dialog.open(et,{autoFocus:!1,minWidth:300,disableClose:!0,data:e})},t.prototype.playMidi=function(){var t=this;this.mainService.esacToMidi(this.esac).subscribe(function(e){t.esac.isPlaying=!0,t.midiPlayerService.setMidiSong(e,t.esac.id),t.midiPlayerService.playMidi()},function(t){console.log("Error downloading file: ",t)})},t.prototype.stopMidi=function(){this.esac.isPlaying=!1,this.midiPlayerService.stopMidi()},t.prototype.isMidiPlaying=function(){return this.checkEsacId()&&this.esac.isPlaying&&this.midiPlayerService.isMidiPlaying()},t.prototype.checkEsacId=function(){return this.esac.id===this.midiPlayerService.getEsacId()},t.prototype.editEsac=function(){var t=this,e=this.esac;this.dialog.open(U,{autoFocus:!1,minWidth:300,disableClose:!0,data:e}).afterClosed().subscribe(function(n){n&&(t.mainService.updateEsac(e.id,n).subscribe(),t.esac=n)})},t.prototype.deleteEsac=function(t){var e=this,n=this.esac;this.dialog.open(q,{autoFocus:!1,minWidth:300,disableClose:!0,data:n}).afterClosed().subscribe(function(i){i&&(e.mainService.deleteEsac(n.id).subscribe(),e.esacService.deleteEsac(t))})},t.prototype.downloadEsac=function(){var t=this.esac,e=this.esacToString(t),n=new Blob([e],{type:"text/plain"});R.saveAs(n,t.name+"_"+t.title+".txt")},t.prototype.esacToString=function(t){var e="";return e+=t.name+"\n",e+="CUT["+t.title+"]\n",e+="REG["+t.region+"]\n",e+="TRD["+t.source+"]\n",e+="SIG["+t.signature+"]\n",e+="KEY["+t.key+"]\n",e+="MEL["+t.melody+"]\n",e+="BEM["+t.remarks+"]\n",e+="\n"},t.prototype.toggleCard=function(){this.isExpanded=!this.isExpanded},nt([Object(i.F)(),it("design:type",Object)],t.prototype,"esac",void 0),nt([Object(i.F)(),it("design:type",Boolean)],t.prototype,"isExpanded",void 0),t=nt([Object(i.n)({selector:"main-card",template:n("m9dq"),styles:[n("dpTa")]}),it("design:paramtypes",[b,s.e,k,x])],t)}(),at=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},rt=[{path:"",component:D}],ct=function(){function t(){}return t=at([Object(i.K)({imports:[d.b,f.b,m.e,m.j,s.c,s.b,s.i,s.k,s.f,s.h,s.j,s.m,s.l,s.d,s.n,r.a.forChild(rt)],declarations:[D,O,I,N,G,U,q,H,ot,et],entryComponents:[O,I,U,q,et],providers:[b,x,k]})],t)}(),st=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},lt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pt=function(){function t(t){this.http=t,this.urlGetEsacs="/api/esacs",this.urlEsac2MidiNew="/esac2midi",this.urlMidi2Esac="/midi2esac"}return t.prototype.getEsacs=function(){return this.http.get(this.urlGetEsacs)},t.prototype.esacToMidiFile=function(t){},t.prototype.esacToMidiNew=function(t){return this.http.post(this.urlEsac2MidiNew,t,{responseType:"arraybuffer"})},t.prototype.midiToEsac=function(t){var e=new FormData;e.append(t.midi.name,t.midi);var n="?key="+t.key;return this.http.post(this.urlMidi2Esac+n,e)},t=st([Object(i.C)(),lt("design:paramtypes",[f.a])],t)}(),dt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ft=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mt=function(){function t(){this.step=0,this.lastStepESAC=3,this.lastStepMIDI=2,this.progress=0}return t.prototype.ngOnInit=function(){},t.prototype.chooseConverter=function(t){this.converterType=t,this.step++,this.updateProgress()},t.prototype.chooseSource=function(t){this.sourceType=t,this.step++,this.updateProgress()},t.prototype.prevStep=function(){this.step>0&&this.step--,this.updateProgress()},t.prototype.updateProgress=function(){0===this.converterType?this.progress=100*this.step/this.lastStepESAC:this.progress=100*this.step/this.lastStepMIDI},t.prototype.handleEsacToMidiFile=function(t){this.step++,this.updateProgress(),this.result=t},t.prototype.handleEsacToMidiNew=function(t){this.step++,this.updateProgress(),this.result=t},t.prototype.handleMidiToEsac=function(t){this.step++,this.updateProgress(),this.result=t},t=dt([Object(i.n)({selector:"converter",template:n("xRF5"),styles:[n("Vh/s")]}),ft("design:paramtypes",[])],t)}(),ut=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ht=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bt=function(){function t(t){this.converterService=t,this.files=[],this.converting=!1,this.converted=new i.x}return t.prototype.ngOnInit=function(){},t.prototype.onChooseFiles=function(){if(this.file)for(var t=0,e=this.file.nativeElement.files;t<e.length;t++){var n=e[t];this.files.push(n)}},t.prototype.onDeleteFiles=function(t){t?this.files.splice(t,1):this.files=[]},t.prototype.isFilesChosen=function(){return!!this.files.length},t.prototype.submit=function(){this.converted.emit([{esac:{name:"DWOK01",title:"Wezme ja kontusz",region:"Mazowsze i Krakowskie",source:"Oskar Kolberg, Opera omnia, vol 1, p. 3-4",signature:"0100100000",key:"K0001a 08  A 3/4 2/4",melody:"1_3b21-7  1_3b21-7  123b_4_  5__\n    556b543b  22543b2  13b5_-7_  1__. //",remarks:""},midi:"",midi64url:""},{esac:{name:"DWOK01",title:"Wezme ja kontusz",region:"Mazowsze i Krakowskie",source:"Oskar Kolberg, Opera omnia, vol 1, p. 3-4",signature:"0100100000",key:"K0001a 08  A 3/4 2/4",melody:"1_3b21-7  1_3b21-7  123b_4_  5__\n    556b543b  22543b2  13b5_-7_  1__. //",remarks:""},midi:"",midi64url:""},{esac:{name:"DWOK01",title:"Wezme ja kontusz",region:"Mazowsze i Krakowskie",source:"Oskar Kolberg, Opera omnia, vol 1, p. 3-4",signature:"0100100000",key:"K0001a 08  A 3/4 2/4",melody:"1_3b21-7  1_3b21-7  123b_4_  5__\n    556b543b  22543b2  13b5_-7_  1__. //",remarks:""},midi:"",midi64url:""}])},ut([Object(i._11)("file"),ht("design:type",Object)],t.prototype,"file",void 0),ut([Object(i.R)(),ht("design:type",Object)],t.prototype,"converted",void 0),t=ut([Object(i.n)({selector:"esac-convert-file",template:n("VCy7"),styles:[n("7/c2")]}),ht("design:paramtypes",[pt])],t)}(),yt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},gt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xt=function(){function t(t){this.converterService=t,this.converting=!1,this.converted=new i.x}return t.prototype.ngOnInit=function(){this.form=this.newForm()},t.prototype.submit=function(){this.converted.emit(this.form.value)},t.prototype.newForm=function(){return new m.c({name:new m.b(""),title:new m.b(""),source:new m.b(""),region:new m.b(""),signature:new m.b(""),key:new m.b("",[]),melody:new m.b("",[]),remarks:new m.b("")})},yt([Object(i.R)(),gt("design:type",Object)],t.prototype,"converted",void 0),t=yt([Object(i.n)({selector:"esac-convert-new",template:n("ido8"),styles:[n("pZJf")]}),gt("design:paramtypes",[pt])],t)}(),vt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},wt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kt=function(){function t(t,e,n){this.http=t,this.mainService=e,this.midiPlayerService=n,this.createNewEsacFromFromURL="/api/esac",this.speedData=this.midiPlayerService.getSpeedData()}return t.prototype.ngOnInit=function(){this.esac.isPlaying=!1},t.prototype.playMidi=function(t){var e=this;this.mainService.esacToMidi(t).subscribe(function(t){e.esac.isPlaying=!0,e.midiPlayerService.setMidiSong(t,e.esac.id),e.midiPlayerService.playMidi()},function(t){console.log("Error downloading file: ",t)})},t.prototype.stopMidi=function(){this.esac.isPlaying=!1,this.midiPlayerService.stopMidi()},t.prototype.isMidiPlaying=function(){return this.checkEsacId()&&this.esac.isPlaying&&this.midiPlayerService.isMidiPlaying()},t.prototype.checkEsacId=function(){return this.esac.id===this.midiPlayerService.getEsacId()},t.prototype.downloadMidi=function(t,e){this.mainService.esacToMidiFile(t).subscribe(function(e){var n=new Blob([e],{type:"audio/midi"});R.saveAs(n,t.name+"_"+t.title+".mid")},function(t){console.log("Error downloading file: ",t)})},t.prototype.addEsac=function(){return this.http.put(this.createNewEsacFromFromURL,this.esac).subscribe()},t.prototype.slowDownMidi=function(){this.midiPlayerService.slowDownMidi(),this.speedData=this.midiPlayerService.getSpeedData()},t.prototype.speedUpMidi=function(){this.midiPlayerService.speedUpMidi(),this.speedData=this.midiPlayerService.getSpeedData()},vt([Object(i.F)(),wt("design:type",Object)],t.prototype,"esac",void 0),t=vt([Object(i.n)({selector:"esac-convert-result",template:n("dxDh"),styles:[n("b474")]}),wt("design:paramtypes",[f.a,b,x])],t)}(),Rt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},jt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},St=function(){function t(t){this.converterService=t,this.files=[],this.key="",this.converting=!1,this.converted=new i.x}return t.prototype.ngOnInit=function(){},t.prototype.onChooseFiles=function(){this.file&&this.files.push(this.file.nativeElement.files[0])},t.prototype.onDeleteFiles=function(t){t?this.files.splice(t,1):this.files=[]},t.prototype.isFilesChosen=function(){return!!this.files.length},t.prototype.isSubmittable=function(){return!(!this.files.length||!this.key.length)},t.prototype.submit=function(){var t=this;this.converting=!0,this.converterService.midiToEsac({midi:this.files[0],key:this.key}).subscribe(function(e){t.converted.emit(e)},function(e){console.log("Error downloading file: ",e),t.converted.emit(e)},function(){return t.converting=!1})},Rt([Object(i._11)("file"),jt("design:type",Object)],t.prototype,"file",void 0),Rt([Object(i.R)(),jt("design:type",Object)],t.prototype,"converted",void 0),t=Rt([Object(i.n)({selector:"midi-convert-file",template:n("aZl2"),styles:[n("cRau")]}),jt("design:paramtypes",[pt])],t)}(),Et=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_t=function(){function t(){}return t.prototype.ngOnInit=function(){},Et([Object(i.F)(),Ot("design:type",Object)],t.prototype,"esac",void 0),t=Et([Object(i.n)({selector:"midi-convert-result",template:n("9stj"),styles:[n("bi87")]}),Ot("design:paramtypes",[])],t)}(),Pt=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Mt=[{path:"converter",component:mt}],It=function(){function t(){}return t=Pt([Object(i.K)({imports:[d.b,c.a,m.e,m.j,s.b,s.l,s.i,s.h,s.j,s.m,s.d,s.c,s.o,r.a.forChild(Mt)],declarations:[mt,bt,xt,kt,St,_t],providers:[pt]})],t)}(),Ct=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Tt=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"**",redirectTo:"/",pathMatch:"full"}],Dt=function(){function t(){}return t=Ct([Object(i.K)({declarations:[p],imports:[a.a,ct,It,c.a,s.b,s.p,s.i,r.a.forRoot(Tt)],providers:[],bootstrap:[p]})],t)}();Object(i._17)(),Object(o.a)().bootstrapModule(Dt).catch(function(t){return console.log(t)})},cRau:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".file-container{padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.file-container>*{margin:10px}.file-container .file-button{position:relative}.file-container .file-input{cursor:pointer;height:100%;position:absolute;opacity:0;right:0;top:0;width:56px}.file-container .file-list .mat-chip{margin:5px}.file-container .file-subcontainer>*{margin:0 10px}.new-spinner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},dpTa:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".card{width:320px;max-width:350px;margin:10px 5px;background-color:hsla(0,0%,100%,.8)}.card-buttons{text-align:right}.card-content--bold{font-weight:700}.whitespace{white-space:pre-wrap}.card-footer-button{width:100%}",""]),t.exports=t.exports.toString()},dxDh:function(t,e){t.exports='<div class="card-container">\n    <mat-card class="card">\n        <div class="card-speed" *ngIf="isMidiPlaying()">\n            <button mat-icon-button (click)="slowDownMidi()">\n                <mat-icon>remove</mat-icon>\n            </button>\n            <mat-slider disabled [min]="speedData.midiSpeedMin" [max]="speedData.midiSpeedMax" [step]="speedData.midiSpeedStep" [value]="speedData.midiSpeedValue"></mat-slider>\n            <button mat-icon-button (click)="speedUpMidi()">\n                <mat-icon>add</mat-icon>\n            </button>\n        </div>\n        <div class="card-buttons">\n            <button mat-icon-button color="accent" (click)="playMidi(esac)" *ngIf="!isMidiPlaying()">\n                <mat-icon>play_arrow</mat-icon>\n            </button>\n            <button mat-icon-button color="accent" (click)="stopMidi()" *ngIf="isMidiPlaying()">\n                <mat-icon>stop</mat-icon>\n            </button>\n            <button mat-icon-button color="accent" (click)="downloadMidi(esac)">\n                <mat-icon>file_download</mat-icon>\n            </button>\n            <button mat-icon-button color="primary" (click)="addEsac()">\n                <mat-icon>add</mat-icon>\n            </button>\n        </div>\n        <mat-card-header>\n            <mat-card-title>{{ esac.name }}</mat-card-title>\n            <mat-card-subtitle>{{ esac.title }}</mat-card-subtitle>\n        </mat-card-header>\n        <mat-card-content>\n            <p *ngIf="esac.region">\n                <span class="card-content--bold">REG:</span>\n                <span>{{ esac.region }}</span>\n            </p>\n            <p *ngIf="esac.source">\n                <span class="card-content--bold">TRD:</span>\n                <span>{{ esac.source }}</span>\n            </p>\n            <p *ngIf="esac.signature">\n                <span class="card-content--bold">SIG:</span>\n                <span>{{ esac.signature }}</span>\n            </p>\n            <p *ngIf="esac.key">\n                <span class="card-content--bold">KEY:</span>\n                <span>{{ esac.key }}</span>\n            </p>\n            <p *ngIf="esac.melody">\n                <span class="card-content--bold">MEL:</span>\n                <span class="whitespace">{{ esac.melody }}</span>\n            </p>\n            <p *ngIf="esac.remarks">\n                <span class="card-content--bold">BEM:</span>\n                <span>{{ esac.remarks }}</span>\n            </p>\n        </mat-card-content>\n    </mat-card>\n</div>'},efyd:function(t,e){t.exports='<mat-toolbar color="accent">\n  <a mat-button routerLink="/" class="nav-link">\n    <mat-icon>home</mat-icon>\n  </a>\n  <a mat-button routerLink="/converter" class="nav-link">Converter</a>\n</mat-toolbar> \n<router-outlet></router-outlet>'},"hU5+":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".new-container{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0}.new-container,.new-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.new-form{width:80%;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:distribute;justify-content:space-around}.new-form *{padding:0 2px}",""]),t.exports=t.exports.toString()},haRs:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".mat-dialog-content{margin:20px 0}.mat-dialog-actions{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}",""]),t.exports=t.exports.toString()},ido8:function(t,e){t.exports='<div class="new-container" *ngIf="!converting">\n  <form [formGroup]="form" novalidate class="new-form">\n    <mat-form-field>\n      <input matInput formControlName="name" placeholder="Catalog">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="title" placeholder="CUT">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="region" placeholder="REG">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="source" placeholder="TRD">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="signature" placeholder="SIG">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput formControlName="key" placeholder="KEY*">\n    </mat-form-field>\n    <mat-form-field>\n      <textarea matInput matTextareaAutosize formControlName="melody" placeholder="MEL*"></textarea>\n    </mat-form-field>\n    <mat-form-field>\n      <textarea matInput matTextareaAutosize formControlName="remarks" placeholder="BEM"></textarea>\n    </mat-form-field>\n  </form>\n\n  <button mat-raised-button color="accent" (click)="submit()" [disabled]="form.invalid">\n    <span>Convert</span>\n    <mat-icon>swap_horiz</mat-icon>\n  </button>\n</div>\n<div *ngIf="converting" class="new-spinner">\n  <mat-spinner mode="indeterminate" color="accent"></mat-spinner>\n</div>\n'},m9dq:function(t,e){t.exports='<mat-card class="card">\n  <div class="card-buttons" *ngIf="isExpanded">\n    <button mat-icon-button (click)="downloadEsac()" color="accent">\n      <mat-icon>file_download</mat-icon>\n    </button>\n    <button mat-icon-button *ngIf="!isMidiPlaying()" (click)="playMidi()" color="accent">\n      <mat-icon>play_arrow</mat-icon>\n    </button>\n    <button mat-icon-button *ngIf="isMidiPlaying()" (click)="stopMidi()" color="accent">\n      <mat-icon>pause</mat-icon>\n    </button>\n    <button mat-icon-button (click)="convertEsac()" color="accent">\n      <mat-icon>swap_horiz</mat-icon>\n    </button>\n    <button mat-icon-button (click)="editEsac()">\n      <mat-icon>edit</mat-icon>\n    </button>\n    <button mat-icon-button (click)="deleteEsac(esac.id)">\n      <mat-icon>delete</mat-icon>\n    </button>\n  </div>\n  <mat-card-header>\n    <mat-card-title>{{ esac.name }}</mat-card-title>\n    <mat-card-subtitle>{{ esac.title }}</mat-card-subtitle>\n  </mat-card-header>\n  <mat-card-content>\n    <p *ngIf="esac.region.length && isExpanded">\n      <span class="card-content--bold">REG:</span>\n      <span>{{ esac.region }}</span>\n    </p>\n    <p *ngIf="esac.source.length && isExpanded">\n      <span class="card-content--bold">TRD:</span>\n      <span>{{ esac.source }}</span>\n    </p>\n    <p *ngIf="esac.signature.length && isExpanded">\n      <span class="card-content--bold">SIG:</span>\n      <span>{{ esac.signature }}</span>\n    </p>\n    <p *ngIf="esac.key.length">\n      <span class="card-content--bold">KEY:</span>\n      <span>{{ esac.key }}</span>\n    </p>\n    <p *ngIf="esac.melody.length">\n      <span class="card-content--bold">MEL:</span>\n      <span class="whitespace">{{ esac.melody }}</span>\n    </p>\n    <p *ngIf="esac.remarks.length && isExpanded">\n      <span class="card-content--bold">BEM:</span>\n      <span>{{ esac.remarks }}</span>\n    </p>\n  </mat-card-content>\n  <mat-card-footer>\n    <div class="card-footer">\n      <button mat-button (click)="toggleCard()" *ngIf="!isExpanded" class="card-footer-button">\n        <mat-icon>expand_more</mat-icon>\n      </button>\n      <button mat-button (click)="toggleCard()" *ngIf="isExpanded" class="card-footer-button">\n        <mat-icon>expand_less</mat-icon>\n      </button>\n    </div>\n  </mat-card-footer>\n</mat-card>'},mgRt:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".dialog-close{text-align:right}.card-container{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=t.exports.toString()},pRin:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".card{min-width:220px;margin:10px 10px}.card-actions{text-align:center}.card-actions *{margin-bottom:5px}.new-spinner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},pZJf:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".new-container{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0}.new-container,.new-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.new-form{width:80%;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:distribute;justify-content:space-around}.new-form *{padding:0 2px}.new-spinner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},wZkG:function(t,e){t.exports='<div class="dialog-close">\n  <button mat-icon-button matDialogClose>\n    <mat-icon>close</mat-icon>\n  </button>\n</div>\n<mat-dialog-content>\n  <div class="new-container">\n    <form [formGroup]="form" novalidate class="new-form">\n      <mat-form-field>\n        <input matInput formControlName="name" placeholder="Catalog">\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput formControlName="title" placeholder="CUT">\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput formControlName="region" placeholder="REG">\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput formControlName="source" placeholder="TRD">\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput formControlName="signature" placeholder="SIG">\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput formControlName="key" placeholder="KEY*">\n      </mat-form-field>\n      <mat-form-field>\n        <textarea matInput matTextareaAutosize formControlName="melody" placeholder="MEL*"></textarea>\n      </mat-form-field>\n      <mat-form-field>\n        <textarea matInput matTextareaAutosize formControlName="remarks" placeholder="BEM"></textarea>\n      </mat-form-field>\n    </form>\n\n    <button mat-raised-button color="accent" (click)="editEsac()" [disabled]="form.invalid">\n      <span>Edit</span>\n      <mat-icon>edit</mat-icon>\n    </button>\n  </div>\n</mat-dialog-content>'},xRF5:function(t,e){t.exports='<div class="wizard">\n  <mat-progress-bar mode="determinate" [value]="progress" class="wizard-progress"></mat-progress-bar>\n  <div *ngIf="step === 0" class="wizard-step">\n    <button mat-raised-button (click)="chooseConverter(0)" color="primary">ESAC to MIDI</button>\n    <button mat-raised-button (click)="chooseConverter(1)" color="primary">MIDI to ESAC</button>\n  </div>\n  <div *ngIf="step === 1" class="wizard-step">\n    <div *ngIf="converterType === 0">\n      <button mat-raised-button (click)="chooseSource(0)" color="primary">From file</button>\n      <button mat-raised-button (click)="chooseSource(1)" color="primary">Create new</button>\n    </div>\n    <div *ngIf="converterType === 1">\n      <midi-convert-file (converted)="handleMidiToEsac($event)"></midi-convert-file>\n    </div>\n  </div>\n  <div *ngIf="step === 2" class="wizard-step">\n    <div *ngIf="converterType === 0">\n      <esac-convert-file *ngIf="sourceType === 0" (converted)="handleEsacToMidiFile($event)"></esac-convert-file>\n      <esac-convert-new *ngIf="sourceType === 1" (converted)="handleEsacToMidiNew($event)"></esac-convert-new>\n    </div>\n    <div *ngIf="converterType === 1">\n      <midi-convert-result [esac]="result"></midi-convert-result>\n    </div>\n  </div>\n  <div *ngIf="step === 3" class="wizard-step">\n    <div *ngIf="converterType === 0">\n      <esac-convert-result [esac]="result"></esac-convert-result>\n    </div>\n  </div>\n  <div class="wizard-navigation">\n    <button mat-button (click)="prevStep()" *ngIf="step > 0">\n      <mat-icon>chevron_left</mat-icon>\n      <span>Previous</span>\n    </button>\n  </div>\n</div>'},z3v5:function(t,e){t.exports='<div class="dialog-close">\n  <button (click)="closeDialog()" mat-icon-button matDialogClose>\n    <mat-icon>close</mat-icon>\n  </button>\n</div>\n<mat-dialog-content>\n  <div class="card-container">\n    <div *ngFor="let esac of esacs; index as idx;">\n      <esac-card [esac]="esac"></esac-card>\n    </div>\n  </div>\n</mat-dialog-content>'}},[0]);